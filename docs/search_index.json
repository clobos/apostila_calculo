[["index.html", "dplyr e ggplot2 Capítulo 1 Introdução ao dplyr e ggplot2", " dplyr e ggplot2 Cristian Villegas 2023-02-23 Capítulo 1 Introdução ao dplyr e ggplot2 "],["tidyverse-essentials-dplyr-tidyr.html", "Capítulo 2 tidyverse essentials (dplyr &amp; tidyr) 2.1 Inspect data 2.2 select() - Columns selection 2.3 Rename columns “manufacturer” and “model” 2.4 YO hice todo lo que está abajo! 2.5 mutate() 2.6 transmute()", " Capítulo 2 tidyverse essentials (dplyr &amp; tidyr) Para considerar Preview HTML Ctrl+Shift+K Command+Shift+K (R Markdown) %&gt;% is Ctrl + Shift + M (Windows) or Cmd + Shift + M (Mac). You can quickly insert chunks into your R Markdown file with the keyboard shortcut Cmd + Option + I (Windows Ctrl + Alt + I). rm(list = ls()) graphics.off() # Install packages and load package #install.packages(&quot;tidyverse&quot;) # tidyverse packages #install.packages(&quot;dplyr&quot;) # individual package installation #install.packages(&quot;tidyr&quot;) # individual package installation #install.packages(&quot;ggplot2&quot;) # we need it for the data set library(dplyr) library(tidyr) library(ggplot2) 2.1 Inspect data #help(&quot;mpg&quot;) df &lt;- mpg #View(df) # check table print(df) # print to console ## # A tibble: 234 × 11 ## manufacturer model displ year cyl trans drv cty hwy fl class ## &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; ## 1 audi a4 1.8 1999 4 auto… f 18 29 p comp… ## 2 audi a4 1.8 1999 4 manu… f 21 29 p comp… ## 3 audi a4 2 2008 4 manu… f 20 31 p comp… ## 4 audi a4 2 2008 4 auto… f 21 30 p comp… ## 5 audi a4 2.8 1999 6 auto… f 16 26 p comp… ## 6 audi a4 2.8 1999 6 manu… f 18 26 p comp… ## 7 audi a4 3.1 2008 6 auto… f 18 27 p comp… ## 8 audi a4 quattro 1.8 1999 4 manu… 4 18 26 p comp… ## 9 audi a4 quattro 1.8 1999 4 auto… 4 16 25 p comp… ## 10 audi a4 quattro 2 2008 4 manu… 4 20 28 p comp… ## # … with 224 more rows str(df) # table structure ## tibble [234 × 11] (S3: tbl_df/tbl/data.frame) ## $ manufacturer: chr [1:234] &quot;audi&quot; &quot;audi&quot; &quot;audi&quot; &quot;audi&quot; ... ## $ model : chr [1:234] &quot;a4&quot; &quot;a4&quot; &quot;a4&quot; &quot;a4&quot; ... ## $ displ : num [1:234] 1.8 1.8 2 2 2.8 2.8 3.1 1.8 1.8 2 ... ## $ year : int [1:234] 1999 1999 2008 2008 1999 1999 2008 1999 1999 2008 ... ## $ cyl : int [1:234] 4 4 4 4 6 6 6 4 4 4 ... ## $ trans : chr [1:234] &quot;auto(l5)&quot; &quot;manual(m5)&quot; &quot;manual(m6)&quot; &quot;auto(av)&quot; ... ## $ drv : chr [1:234] &quot;f&quot; &quot;f&quot; &quot;f&quot; &quot;f&quot; ... ## $ cty : int [1:234] 18 21 20 21 16 18 18 18 16 20 ... ## $ hwy : int [1:234] 29 29 31 30 26 26 27 26 25 28 ... ## $ fl : chr [1:234] &quot;p&quot; &quot;p&quot; &quot;p&quot; &quot;p&quot; ... ## $ class : chr [1:234] &quot;compact&quot; &quot;compact&quot; &quot;compact&quot; &quot;compact&quot; ... nrow(df); ncol(df) # rows ~ cols ## [1] 234 ## [1] 11 glimpse(df)#YO ## Rows: 234 ## Columns: 11 ## $ manufacturer &lt;chr&gt; &quot;audi&quot;, &quot;audi&quot;, &quot;audi&quot;, &quot;audi&quot;, &quot;audi&quot;, &quot;audi&quot;, &quot;audi&quot;, &quot;… ## $ model &lt;chr&gt; &quot;a4&quot;, &quot;a4&quot;, &quot;a4&quot;, &quot;a4&quot;, &quot;a4&quot;, &quot;a4&quot;, &quot;a4&quot;, &quot;a4 quattro&quot;, &quot;… ## $ displ &lt;dbl&gt; 1.8, 1.8, 2.0, 2.0, 2.8, 2.8, 3.1, 1.8, 1.8, 2.0, 2.0, 2.… ## $ year &lt;int&gt; 1999, 1999, 2008, 2008, 1999, 1999, 2008, 1999, 1999, 200… ## $ cyl &lt;int&gt; 4, 4, 4, 4, 6, 6, 6, 4, 4, 4, 4, 6, 6, 6, 6, 6, 6, 8, 8, … ## $ trans &lt;chr&gt; &quot;auto(l5)&quot;, &quot;manual(m5)&quot;, &quot;manual(m6)&quot;, &quot;auto(av)&quot;, &quot;auto… ## $ drv &lt;chr&gt; &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;4&quot;, &quot;4&quot;, &quot;4&quot;, &quot;4&quot;, &quot;4… ## $ cty &lt;int&gt; 18, 21, 20, 21, 16, 18, 18, 18, 16, 20, 19, 15, 17, 17, 1… ## $ hwy &lt;int&gt; 29, 29, 31, 30, 26, 26, 27, 26, 25, 28, 27, 25, 25, 25, 2… ## $ fl &lt;chr&gt; &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p… ## $ class &lt;chr&gt; &quot;compact&quot;, &quot;compact&quot;, &quot;compact&quot;, &quot;compact&quot;, &quot;compact&quot;, &quot;c… names(df)#YO ## [1] &quot;manufacturer&quot; &quot;model&quot; &quot;displ&quot; &quot;year&quot; &quot;cyl&quot; ## [6] &quot;trans&quot; &quot;drv&quot; &quot;cty&quot; &quot;hwy&quot; &quot;fl&quot; ## [11] &quot;class&quot; 2.2 select() - Columns selection # Extract columns car: manufacturer, model, year select(df, manufacturer, model, year) # just extract columns ## # A tibble: 234 × 3 ## manufacturer model year ## &lt;chr&gt; &lt;chr&gt; &lt;int&gt; ## 1 audi a4 1999 ## 2 audi a4 1999 ## 3 audi a4 2008 ## 4 audi a4 2008 ## 5 audi a4 1999 ## 6 audi a4 1999 ## 7 audi a4 2008 ## 8 audi a4 quattro 1999 ## 9 audi a4 quattro 1999 ## 10 audi a4 quattro 2008 ## # … with 224 more rows df.car.info &lt;- select(df, manufacturer, model, year) rm(df.car.info) # Extract columns that begin with letter &quot;m&quot; select(df, starts_with(&quot;m&quot;)) ## # A tibble: 234 × 2 ## manufacturer model ## &lt;chr&gt; &lt;chr&gt; ## 1 audi a4 ## 2 audi a4 ## 3 audi a4 ## 4 audi a4 ## 5 audi a4 ## 6 audi a4 ## 7 audi a4 ## 8 audi a4 quattro ## 9 audi a4 quattro ## 10 audi a4 quattro ## # … with 224 more rows # Extract columns that contain letter &quot;r&quot; select(df, contains(&quot;r&quot;)) ## # A tibble: 234 × 4 ## manufacturer year trans drv ## &lt;chr&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; ## 1 audi 1999 auto(l5) f ## 2 audi 1999 manual(m5) f ## 3 audi 2008 manual(m6) f ## 4 audi 2008 auto(av) f ## 5 audi 1999 auto(l5) f ## 6 audi 1999 manual(m5) f ## 7 audi 2008 auto(av) f ## 8 audi 1999 manual(m5) 4 ## 9 audi 1999 auto(l5) 4 ## 10 audi 2008 manual(m6) 4 ## # … with 224 more rows # Extract columns that end with letter &quot;y&quot; select(df, ends_with(&quot;y&quot;)) ## # A tibble: 234 × 2 ## cty hwy ## &lt;int&gt; &lt;int&gt; ## 1 18 29 ## 2 21 29 ## 3 20 31 ## 4 21 30 ## 5 16 26 ## 6 18 26 ## 7 18 27 ## 8 18 26 ## 9 16 25 ## 10 20 28 ## # … with 224 more rows # Select column by columns index select(df, 1:3) # first three columns ## # A tibble: 234 × 3 ## manufacturer model displ ## &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; ## 1 audi a4 1.8 ## 2 audi a4 1.8 ## 3 audi a4 2 ## 4 audi a4 2 ## 5 audi a4 2.8 ## 6 audi a4 2.8 ## 7 audi a4 3.1 ## 8 audi a4 quattro 1.8 ## 9 audi a4 quattro 1.8 ## 10 audi a4 quattro 2 ## # … with 224 more rows select(df, c(2,5,7)) # second, fifth and seventh column ## # A tibble: 234 × 3 ## model cyl drv ## &lt;chr&gt; &lt;int&gt; &lt;chr&gt; ## 1 a4 4 f ## 2 a4 4 f ## 3 a4 4 f ## 4 a4 4 f ## 5 a4 6 f ## 6 a4 6 f ## 7 a4 6 f ## 8 a4 quattro 4 4 ## 9 a4 quattro 4 4 ## 10 a4 quattro 4 4 ## # … with 224 more rows select(df, (ncol(df)-2):ncol(df)) # last three columns ## # A tibble: 234 × 3 ## hwy fl class ## &lt;int&gt; &lt;chr&gt; &lt;chr&gt; ## 1 29 p compact ## 2 29 p compact ## 3 31 p compact ## 4 30 p compact ## 5 26 p compact ## 6 26 p compact ## 7 27 p compact ## 8 26 p compact ## 9 25 p compact ## 10 28 p compact ## # … with 224 more rows select(df,manufacturer:cyl) #YO ## # A tibble: 234 × 5 ## manufacturer model displ year cyl ## &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; ## 1 audi a4 1.8 1999 4 ## 2 audi a4 1.8 1999 4 ## 3 audi a4 2 2008 4 ## 4 audi a4 2 2008 4 ## 5 audi a4 2.8 1999 6 ## 6 audi a4 2.8 1999 6 ## 7 audi a4 3.1 2008 6 ## 8 audi a4 quattro 1.8 1999 4 ## 9 audi a4 quattro 1.8 1999 4 ## 10 audi a4 quattro 2 2008 4 ## # … with 224 more rows select(df,-(manufacturer:cyl)) #YO ## # A tibble: 234 × 6 ## trans drv cty hwy fl class ## &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; ## 1 auto(l5) f 18 29 p compact ## 2 manual(m5) f 21 29 p compact ## 3 manual(m6) f 20 31 p compact ## 4 auto(av) f 21 30 p compact ## 5 auto(l5) f 16 26 p compact ## 6 manual(m5) f 18 26 p compact ## 7 auto(av) f 18 27 p compact ## 8 manual(m5) 4 18 26 p compact ## 9 auto(l5) 4 16 25 p compact ## 10 manual(m6) 4 20 28 p compact ## # … with 224 more rows # rename() - Rename columns 2.3 Rename columns “manufacturer” and “model” df1 &lt;- rename(df, mnfc = manufacturer, mod = model) # select columns and rename in one take select(df, mnfc = manufacturer, mod = model, everything()) # selects all other columns ## # A tibble: 234 × 11 ## mnfc mod displ year cyl trans drv cty hwy fl class ## &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; ## 1 audi a4 1.8 1999 4 auto(l5) f 18 29 p compact ## 2 audi a4 1.8 1999 4 manual(m5) f 21 29 p compact ## 3 audi a4 2 2008 4 manual(m6) f 20 31 p compact ## 4 audi a4 2 2008 4 auto(av) f 21 30 p compact ## 5 audi a4 2.8 1999 6 auto(l5) f 16 26 p compact ## 6 audi a4 2.8 1999 6 manual(m5) f 18 26 p compact ## 7 audi a4 3.1 2008 6 auto(av) f 18 27 p compact ## 8 audi a4 quattro 1.8 1999 4 manual(m5) 4 18 26 p compact ## 9 audi a4 quattro 1.8 1999 4 auto(l5) 4 16 25 p compact ## 10 audi a4 quattro 2 2008 4 manual(m6) 4 20 28 p compact ## # … with 224 more rows 2.4 YO hice todo lo que está abajo! df %&gt;% filter(between(cty,15, 22)) %&gt;% select(cty) #YO ## # A tibble: 143 × 1 ## cty ## &lt;int&gt; ## 1 18 ## 2 21 ## 3 20 ## 4 21 ## 5 16 ## 6 18 ## 7 18 ## 8 18 ## 9 16 ## 10 20 ## # … with 133 more rows select(df, matches(&quot;[abc]&quot;)) #YO ## # A tibble: 234 × 6 ## manufacturer year cyl trans cty class ## &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;int&gt; &lt;chr&gt; ## 1 audi 1999 4 auto(l5) 18 compact ## 2 audi 1999 4 manual(m5) 21 compact ## 3 audi 2008 4 manual(m6) 20 compact ## 4 audi 2008 4 auto(av) 21 compact ## 5 audi 1999 6 auto(l5) 16 compact ## 6 audi 1999 6 manual(m5) 18 compact ## 7 audi 2008 6 auto(av) 18 compact ## 8 audi 1999 4 manual(m5) 18 compact ## 9 audi 1999 4 auto(l5) 16 compact ## 10 audi 2008 4 manual(m6) 20 compact ## # … with 224 more rows select(df, starts_with(&quot;m&quot;), starts_with(&quot;c&quot;)) #YO ## # A tibble: 234 × 5 ## manufacturer model cyl cty class ## &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; ## 1 audi a4 4 18 compact ## 2 audi a4 4 21 compact ## 3 audi a4 4 20 compact ## 4 audi a4 4 21 compact ## 5 audi a4 6 16 compact ## 6 audi a4 6 18 compact ## 7 audi a4 6 18 compact ## 8 audi a4 quattro 4 18 compact ## 9 audi a4 quattro 4 16 compact ## 10 audi a4 quattro 4 20 compact ## # … with 224 more rows select(df, ends_with(&quot;l&quot;), ends_with(&quot;s&quot;)) #YO ## # A tibble: 234 × 6 ## model displ cyl fl trans class ## &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; ## 1 a4 1.8 4 p auto(l5) compact ## 2 a4 1.8 4 p manual(m5) compact ## 3 a4 2 4 p manual(m6) compact ## 4 a4 2 4 p auto(av) compact ## 5 a4 2.8 6 p auto(l5) compact ## 6 a4 2.8 6 p manual(m5) compact ## 7 a4 3.1 6 p auto(av) compact ## 8 a4 quattro 1.8 4 p manual(m5) compact ## 9 a4 quattro 1.8 4 p auto(l5) compact ## 10 a4 quattro 2 4 p manual(m6) compact ## # … with 224 more rows # 1 tidyverse essentials (dplyr &amp; tidyr) rm(list = ls()) graphics.off() # Install packages and load package #install.packages(&quot;tidyverse&quot;) # tidyverse packages #install.packages(&quot;dplyr&quot;) # individual package installation #install.packages(&quot;tidyr&quot;) # individual package installation #install.packages(&quot;ggplot2&quot;) # we need it for the data set library(dplyr) library(tidyr) library(ggplot2) # Inspect data #help(&quot;mpg&quot;) df &lt;- mpg #View(df) # check table print(df) # print to console ## # A tibble: 234 × 11 ## manufacturer model displ year cyl trans drv cty hwy fl class ## &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; ## 1 audi a4 1.8 1999 4 auto… f 18 29 p comp… ## 2 audi a4 1.8 1999 4 manu… f 21 29 p comp… ## 3 audi a4 2 2008 4 manu… f 20 31 p comp… ## 4 audi a4 2 2008 4 auto… f 21 30 p comp… ## 5 audi a4 2.8 1999 6 auto… f 16 26 p comp… ## 6 audi a4 2.8 1999 6 manu… f 18 26 p comp… ## 7 audi a4 3.1 2008 6 auto… f 18 27 p comp… ## 8 audi a4 quattro 1.8 1999 4 manu… 4 18 26 p comp… ## 9 audi a4 quattro 1.8 1999 4 auto… 4 16 25 p comp… ## 10 audi a4 quattro 2 2008 4 manu… 4 20 28 p comp… ## # … with 224 more rows str(df) # table structure ## tibble [234 × 11] (S3: tbl_df/tbl/data.frame) ## $ manufacturer: chr [1:234] &quot;audi&quot; &quot;audi&quot; &quot;audi&quot; &quot;audi&quot; ... ## $ model : chr [1:234] &quot;a4&quot; &quot;a4&quot; &quot;a4&quot; &quot;a4&quot; ... ## $ displ : num [1:234] 1.8 1.8 2 2 2.8 2.8 3.1 1.8 1.8 2 ... ## $ year : int [1:234] 1999 1999 2008 2008 1999 1999 2008 1999 1999 2008 ... ## $ cyl : int [1:234] 4 4 4 4 6 6 6 4 4 4 ... ## $ trans : chr [1:234] &quot;auto(l5)&quot; &quot;manual(m5)&quot; &quot;manual(m6)&quot; &quot;auto(av)&quot; ... ## $ drv : chr [1:234] &quot;f&quot; &quot;f&quot; &quot;f&quot; &quot;f&quot; ... ## $ cty : int [1:234] 18 21 20 21 16 18 18 18 16 20 ... ## $ hwy : int [1:234] 29 29 31 30 26 26 27 26 25 28 ... ## $ fl : chr [1:234] &quot;p&quot; &quot;p&quot; &quot;p&quot; &quot;p&quot; ... ## $ class : chr [1:234] &quot;compact&quot; &quot;compact&quot; &quot;compact&quot; &quot;compact&quot; ... nrow(df); ncol(df) # rows ~ cols ## [1] 234 ## [1] 11 # 1.3 Manipulate variables (columns) - select(), rename() # select() - Columns selection # Extract columns car: manufacturer, model, year select(df, manufacturer, model, year) # just extract columns ## # A tibble: 234 × 3 ## manufacturer model year ## &lt;chr&gt; &lt;chr&gt; &lt;int&gt; ## 1 audi a4 1999 ## 2 audi a4 1999 ## 3 audi a4 2008 ## 4 audi a4 2008 ## 5 audi a4 1999 ## 6 audi a4 1999 ## 7 audi a4 2008 ## 8 audi a4 quattro 1999 ## 9 audi a4 quattro 1999 ## 10 audi a4 quattro 2008 ## # … with 224 more rows df.car.info &lt;- select(df, manufacturer, model, year) rm(df.car.info) # Extract columns that begin with letter &quot;m&quot; select(df, starts_with(&quot;m&quot;)) ## # A tibble: 234 × 2 ## manufacturer model ## &lt;chr&gt; &lt;chr&gt; ## 1 audi a4 ## 2 audi a4 ## 3 audi a4 ## 4 audi a4 ## 5 audi a4 ## 6 audi a4 ## 7 audi a4 ## 8 audi a4 quattro ## 9 audi a4 quattro ## 10 audi a4 quattro ## # … with 224 more rows # Extract columns that contain letter &quot;r&quot; select(df, contains(&quot;r&quot;)) ## # A tibble: 234 × 4 ## manufacturer year trans drv ## &lt;chr&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; ## 1 audi 1999 auto(l5) f ## 2 audi 1999 manual(m5) f ## 3 audi 2008 manual(m6) f ## 4 audi 2008 auto(av) f ## 5 audi 1999 auto(l5) f ## 6 audi 1999 manual(m5) f ## 7 audi 2008 auto(av) f ## 8 audi 1999 manual(m5) 4 ## 9 audi 1999 auto(l5) 4 ## 10 audi 2008 manual(m6) 4 ## # … with 224 more rows # Extract columns that end with letter &quot;y&quot; select(df, ends_with(&quot;y&quot;)) ## # A tibble: 234 × 2 ## cty hwy ## &lt;int&gt; &lt;int&gt; ## 1 18 29 ## 2 21 29 ## 3 20 31 ## 4 21 30 ## 5 16 26 ## 6 18 26 ## 7 18 27 ## 8 18 26 ## 9 16 25 ## 10 20 28 ## # … with 224 more rows # Select column by columns index select(df, 1:3) # first three columns ## # A tibble: 234 × 3 ## manufacturer model displ ## &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; ## 1 audi a4 1.8 ## 2 audi a4 1.8 ## 3 audi a4 2 ## 4 audi a4 2 ## 5 audi a4 2.8 ## 6 audi a4 2.8 ## 7 audi a4 3.1 ## 8 audi a4 quattro 1.8 ## 9 audi a4 quattro 1.8 ## 10 audi a4 quattro 2 ## # … with 224 more rows select(df, c(2,5,7)) # second, fifth and seventh column ## # A tibble: 234 × 3 ## model cyl drv ## &lt;chr&gt; &lt;int&gt; &lt;chr&gt; ## 1 a4 4 f ## 2 a4 4 f ## 3 a4 4 f ## 4 a4 4 f ## 5 a4 6 f ## 6 a4 6 f ## 7 a4 6 f ## 8 a4 quattro 4 4 ## 9 a4 quattro 4 4 ## 10 a4 quattro 4 4 ## # … with 224 more rows select(df, (ncol(df)-2):ncol(df)) # last three columns ## # A tibble: 234 × 3 ## hwy fl class ## &lt;int&gt; &lt;chr&gt; &lt;chr&gt; ## 1 29 p compact ## 2 29 p compact ## 3 31 p compact ## 4 30 p compact ## 5 26 p compact ## 6 26 p compact ## 7 27 p compact ## 8 26 p compact ## 9 25 p compact ## 10 28 p compact ## # … with 224 more rows # rename() - Rename columns # Rename columns &quot;manufacturer&quot; and &quot;model&quot; df1 &lt;- rename(df, mnfc = manufacturer, mod = model) # select columns and rename in one take select(df, mnfc = manufacturer, mod = model, everything()) # selects all other columns ## # A tibble: 234 × 11 ## mnfc mod displ year cyl trans drv cty hwy fl class ## &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; ## 1 audi a4 1.8 1999 4 auto(l5) f 18 29 p compact ## 2 audi a4 1.8 1999 4 manual(m5) f 21 29 p compact ## 3 audi a4 2 2008 4 manual(m6) f 20 31 p compact ## 4 audi a4 2 2008 4 auto(av) f 21 30 p compact ## 5 audi a4 2.8 1999 6 auto(l5) f 16 26 p compact ## 6 audi a4 2.8 1999 6 manual(m5) f 18 26 p compact ## 7 audi a4 3.1 2008 6 auto(av) f 18 27 p compact ## 8 audi a4 quattro 1.8 1999 4 manual(m5) 4 18 26 p compact ## 9 audi a4 quattro 1.8 1999 4 auto(l5) 4 16 25 p compact ## 10 audi a4 quattro 2 2008 4 manual(m6) 4 20 28 p compact ## # … with 224 more rows 2.5 mutate() Create new variable # Create variable: average between highway and city miles per gallon df &lt;- mutate(df, `avg miles per gallon` = (cty + hwy) / 2) df#YO ## # A tibble: 234 × 12 ## manufac…¹ model displ year cyl trans drv cty hwy fl class avg m…² ## &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; ## 1 audi a4 1.8 1999 4 auto… f 18 29 p comp… 23.5 ## 2 audi a4 1.8 1999 4 manu… f 21 29 p comp… 25 ## 3 audi a4 2 2008 4 manu… f 20 31 p comp… 25.5 ## 4 audi a4 2 2008 4 auto… f 21 30 p comp… 25.5 ## 5 audi a4 2.8 1999 6 auto… f 16 26 p comp… 21 ## 6 audi a4 2.8 1999 6 manu… f 18 26 p comp… 22 ## 7 audi a4 3.1 2008 6 auto… f 18 27 p comp… 22.5 ## 8 audi a4 q… 1.8 1999 4 manu… 4 18 26 p comp… 22 ## 9 audi a4 q… 1.8 1999 4 auto… 4 16 25 p comp… 20.5 ## 10 audi a4 q… 2 2008 4 manu… 4 20 28 p comp… 24 ## # … with 224 more rows, and abbreviated variable names ¹​manufacturer, ## # ²​`avg miles per gallon` # Create variable &quot;car&quot; &amp; &quot;cyl / trans&quot; df &lt;- mutate(df, car = paste(manufacturer, model, sep = &quot; &quot;), `cyl / trans` = paste(cyl, &quot; cylinders&quot;, &quot; / &quot;, trans, &quot; transmission&quot;, sep = &quot;&quot;)) df#YO ## # A tibble: 234 × 14 ## manufac…¹ model displ year cyl trans drv cty hwy fl class avg m…² ## &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; ## 1 audi a4 1.8 1999 4 auto… f 18 29 p comp… 23.5 ## 2 audi a4 1.8 1999 4 manu… f 21 29 p comp… 25 ## 3 audi a4 2 2008 4 manu… f 20 31 p comp… 25.5 ## 4 audi a4 2 2008 4 auto… f 21 30 p comp… 25.5 ## 5 audi a4 2.8 1999 6 auto… f 16 26 p comp… 21 ## 6 audi a4 2.8 1999 6 manu… f 18 26 p comp… 22 ## 7 audi a4 3.1 2008 6 auto… f 18 27 p comp… 22.5 ## 8 audi a4 q… 1.8 1999 4 manu… 4 18 26 p comp… 22 ## 9 audi a4 q… 1.8 1999 4 auto… 4 16 25 p comp… 20.5 ## 10 audi a4 q… 2 2008 4 manu… 4 20 28 p comp… 24 ## # … with 224 more rows, 2 more variables: car &lt;chr&gt;, `cyl / trans` &lt;chr&gt;, and ## # abbreviated variable names ¹​manufacturer, ²​`avg miles per gallon` 2.6 transmute() Create new variable and drop other variables transmute(df, `avg miles per gallon` = (cty + hwy) / 2) ## # A tibble: 234 × 1 ## `avg miles per gallon` ## &lt;dbl&gt; ## 1 23.5 ## 2 25 ## 3 25.5 ## 4 25.5 ## 5 21 ## 6 22 ## 7 22.5 ## 8 22 ## 9 20.5 ## 10 24 ## # … with 224 more rows transmute(df, car = paste(manufacturer, model, sep = &quot; &quot;), `cyl / trans` = paste(cyl, &quot; cylinders&quot;, &quot; / &quot;, trans, &quot; transmission&quot;, sep = &quot;&quot;)) ## # A tibble: 234 × 2 ## car `cyl / trans` ## &lt;chr&gt; &lt;chr&gt; ## 1 audi a4 4 cylinders / auto(l5) transmission ## 2 audi a4 4 cylinders / manual(m5) transmission ## 3 audi a4 4 cylinders / manual(m6) transmission ## 4 audi a4 4 cylinders / auto(av) transmission ## 5 audi a4 6 cylinders / auto(l5) transmission ## 6 audi a4 6 cylinders / manual(m5) transmission ## 7 audi a4 6 cylinders / auto(av) transmission ## 8 audi a4 quattro 4 cylinders / manual(m5) transmission ## 9 audi a4 quattro 4 cylinders / auto(l5) transmission ## 10 audi a4 quattro 4 cylinders / manual(m6) transmission ## # … with 224 more rows "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
